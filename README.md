# nSeed

_The Node.Js Data Seeder_

<p>
	<a href="https://www.npmjs.com/package/nSeed"><img src="https://img.shields.io/npm/v/nSeed"></a>
    <a href="https://github.com/F2BEAR/nSeed/blob/master/LICENSE"><img src="https://img.shields.io/badge/License-MIT-green"></a>
	<a href="https://github.com/F2BEAR/nSeed/issues"><img src="https://img.shields.io/github/issues/F2BEAR/nSeed"></a>
	<a href="http://commitizen.github.io/cz-cli/"><img src="https://img.shields.io/badge/commitizen-friendly-brightgreen.svg"></a>
	<a href="https://github.com/F2BEAR/nSeed/blob/master/CONTRIBUTING.md"><img src="https://img.shields.io/badge/Contributor%20Covenant-2.1-4baaaa.svg"></a>

</p>

----------------

## Overview

nSeed is an Open-Source CLI Tool for NodeJS used to generate and seed your database with fake data for testing purposes.

We use [faker.js](https://fakerjs.dev) to generate the seeds.

## Installation

You can install it locally, globally or as a dev dependency with both npm and yarn:

- _local:_

  `npm install nseed` or `yarn add nseed`

- _dev:_

  `npm install --save-dev nseed` or `yarn add nseed --dev` 

- _global:_

  `npm install -g nseed` or `yarn global add nseed`

## Basic Usage

We want nSeed to be an easy and intuitive tool, so having tons of functionalities was not intended apart from what it promises: 

_" Giving a connection string, a template and the amount of documents to be created, this tool will generate fake data and seed it into your database. "_

Currently we only support MongoDB databases, but we plan to expand it to other kind of databases such as MySQL, CouchDB, Redis, etc.

The most basic usage is as it follows:

`nseed [connection string] -d [database name] -t [path to template] -a [amount]`

If you installed it as a dev dependency you can use it with npx:

`npx nseed [connection string] -d [database name] -t [path to template] -a [amount]`

# CLI

| Options | Alias | Description |
| -------|-------|-------------|
| --db | -d | Flag used to specify the name of the database to be seeded. |
| --collection | -c | A string denoting the name of the collection to be generated. |
| --tmpl | -t | A Flag to specify the path for the templates to be used. |
| --amount | -a | The number of documents to be generated. |
| --del | N/A | Indicates that the database must be dropped before seeding. |
| --version | -v | Displays the current version. |
| --help | -h | Displays help. |

> Note:
>
> The connection string is mandatory, if it's not provided before the options nSeed will throw an error.
>
> The path for the template MUST be a relative path. _(i.e: ./foo/bar.json)_

Example:

```shell
nseed mongodb://localhost:27017/ -d Test -c Users -t './template.json' -a 2000
```

# Templates

The structure of the templates should be as it follows:

```json
{
	"foo": "bar1",
	"foo": "bar",
	"foo": ["bar"],
	"foo": {
		"foo": "baz",
		"foo": "baz",
		"foo": "baz"
	}
}
```

The values on the template can be any kind of valid [JSON Data Type](https://www.w3schools.com/js/js_json_datatypes.asp); but in order to use autogenerated data with the faker types you must provide a string starting with a dot:

```json
{
	"firstName": ".name.firstName",
	"lastName": ".name.lastName",
	"job": ".name.jobTitle",
	"address" :{
		"line1": "529 14th St NW",
		"line2": "Apt. 742",
		"state": "Florida",
		"zip": 33054,
	},
	"interests":["Sports", "Videogames", "Technology"],
	"activeUser": true
}
```

We support most of the [Faker API Types](FAKERGUIDE), check the Faker Types section bellow for reference.

# Configuration

You can configure _nSeed_ with a nseed.config.json file; this gives you the capacity to generate specific configuration per each project you and your team are working on, making it suitable for container environments such as Docker.

All the options available on the CLI can be configured through this file:

```json
{
	"url": "mongodb://<user>:<password>@localgost:27017/",
	"collections": [
		{
			"name": "users",
			"template": "./path/to/template",
			"amount": 70
		},
		{
			"name": "activities",
			"template": "./path/to/template"
		},
		{
			"name": "locations",
			"template": "./path/to/template"
		}
	],
	"amount": 125
}
```

# Faker Types

| Name | Level |
|-------|-------|
| Address | supported ✔ |
| Animal | supported ✔ |
| Commerce | supported ✔ |
| Company | supported ✔ |
| Database | supported ✔ |
| Datatype | supported ✔ |
| Date | supported ✔ |
| Fake | not supported ❌ |
| Finance | supported ✔ |
| Git | supported ✔ |
| Hacker | supported ✔ |
| Helpers | partially supported ⚠ |
| Image | supported ✔ |
| Internet | supported ✔ |
| Localization | not supported ❌ |
| Lorem | supported ✔ |
| Mersenne | not supported ❌ |
| Music | supported ✔ |
| Name | supported ✔ |
| Phone | supported ✔ |
| Random | supported ✔ |
| System | supported ✔ |
| Time | supported ✔ |
| Unique | not supported ❌ |
| Vehicle | supported ✔ |
| Word | supported ✔ |

You can use all the Faker API methods for each one of the supported types (except for the deprecated methods as from Faker v6); you can check [their documentation](FAKERGUIDE) for more information.

> We only support contextualCard(), createCard(), createTransaction() and userCard() methods for the [Helpers type](https://fakerjs.dev/api/helpers.html).

# License

Copyright (c) 2022 Facundo Carbonel / nSeed

This source code is licensed under the MIT license found in the [LICENSE](LICENSE) file in the root directory of this source tree.

# Related

[CONTRIBUTING](CONTRIBUTING) | [ROADMAP](ROADMAP) | [LICENSE](LICENSE) | [ISSUES](ISSUES)

[FAKERGUIDE]: https://fakerjs.dev/guide/
[CONTRIBUTING]:https://github.com/F2BEAR/nSeed/blob/master/CONTRIBUTING.md
[ROADMAP]: https://github.com/F2BEAR/nSeed/blob/master/ROADMAP.MD
[LICENSE]: https://github.com/F2BEAR/nSeed/blob/master/LICENSE
[ISSUES]: https://github.com/F2BEAR/nSeed/issues